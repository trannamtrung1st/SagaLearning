@page
@model IndexModel
@{
    ViewData["Title"] = "Home page";
}

<div class="text-center">
    <h1 class="display-4">Welcome</h1>
    <p>Learn about <a href="https://docs.microsoft.com/aspnet/core">building Web apps with ASP.NET Core</a>.</p>
</div>

<div class="container">
    <p class="text-center">@Model.Message</p>
    <form method="post" asp-page-handler="UpdateConfig">
        <h4>Configuration</h4>
        <div class="row">
            <div class="col-md-3">
                <div class="form-group">
                    <div class="form-check">
                        <input type="checkbox" id="Config.ShouldTransactionFail"
                               value="true" checked=@(Model.Config.ShouldTransactionFail ? true : null)
                               name="ShouldTransactionFail" class="form-check-input" />
                        <label class="form-check-label" for="Config.ShouldTransactionFail">Should transaction fail</label>
                    </div>
                </div>
            </div>
            <div class="col-md-3">
                <div class="form-group">
                    <div class="form-check">
                        <input type="checkbox" id="Config.ShouldInternalPaymentFail"
                               value="true" checked=@(Model.Config.ShouldInternalPaymentFail ? true : null)
                               name="ShouldInternalPaymentFail" class="form-check-input" />
                        <label class="form-check-label" for="Config.ShouldInternalPaymentFail">Should internal payment fail</label>
                    </div>
                </div>
            </div>
            <div class="col-md-3">
                <div class="form-group">
                    <div class="form-check">
                        <input type="checkbox" id="Config.ShouldExternalPaymentFail"
                               value="true" checked=@(Model.Config.ShouldExternalPaymentFail ? true : null)
                               name="ShouldExternalPaymentFail" class="form-check-input" />
                        <label class="form-check-label" for="Config.ShouldExternalPaymentFail">Should external payment fail</label>
                    </div>
                </div>
            </div>
            <div class="col-md-3">
                <div class="form-group">
                    <label class="form-label" for="Config.CompleteOrderTryCount">Complete order try</label>
                    <input type="number" id="Config.CompleteOrderTryCount"
                           value="@Model.Config.CompleteOrderTryCount"
                           name="CompleteOrderTryCount" class="form-control" min="0" />
                </div>
            </div>
            <div class="col-md-12">
                <button class="btn btn-primary">Update</button>
            </div>
        </div>
    </form>
    <hr />
    <h4>Order</h4>
    <div class="row">
        <div class="col-md-6">
            <form method="post" asp-page-handler="">
                <div class="form-group">
                    <label class="form-label" asp-for="SubmitOrderModel.Amount">Amount</label>
                    <input type="number" asp-for="SubmitOrderModel.Amount" class="form-control" min="0" />
                </div>
                <div class="mt-3">
                    <button class="btn btn-primary">Submit order</button>
                </div>
            </form>
        </div>
    </div>
    <hr />
    @foreach (var log in Model.Logs)
    {
        <p><b>@log.Subject:</b> @log.Message</p>
    }
</div>